<!DOCTYPE html>
<html>
  <head>
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <style>
      html, body {
        margin: 0;
        padding: 0;
        background: transparent;
        overflow: hidden;
      }
      model-viewer {
        width: 100vw;
        height: 100vh;
      }
    </style>
  </head>
  <body>
    <model-viewer
      src="gift_box.glb"
      alt="Gift Box"
      auto-rotate
      camera-controls
      shadow-intensity="1"
      exposure="1"
      environment-image="neutral"
      disable-zoom>
    </model-viewer>
  </body>
</html>

<script>
  window.addEventListener("message", function (event) {
    if (event.data.action === "scrollUpdate") {
      const progress = event.data.progress;
      const box = document.querySelector("model-viewer");
      if (!box) return;

      // Interpolate position and scale
      const translateY = 100 * progress; // moves from 0 to 100px down
      const scale = 1 - 0.5 * progress; // scales from 1 to 0.5

      box.style.transform = `scale(${scale}) translateY(${translateY}px)`;
    }
  });
</script>
